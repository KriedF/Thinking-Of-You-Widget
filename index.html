<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#f5c542">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Thinking">
  <meta name="description" content="A gentle way to let someone know you're thinking of them">

  <title>Thinking of You</title>

  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <header class="header">
    <h1>Thinking of You</h1>
    <p class="user-name" id="userGreeting"></p>
  </header>

  <main class="main">
    <section class="screen" id="onboardingScreen">
      <div class="onboarding">
        <h2>Welcome</h2>
        <p>Sometimes words aren't enough. Sometimes all you need is to know someone is holding you in their heart.</p>

        <div class="input-group">
          <label for="nameInput">What should we call you?</label>
          <input type="text" id="nameInput" placeholder="Your name" maxlength="30">
        </div>

        <button class="btn btn-primary" id="startBtn">Begin</button>
      </div>
    </section>

    <section class="screen" id="homeScreen">
      <div class="empty-state" id="emptyState">
        <div class="empty-state-icon">ğŸŒ±</div>
        <h3>No connections yet</h3>
        <p>Connect with someone to start sharing quiet moments of care.</p>
        <button class="btn btn-primary" id="addFirstConnection">Add a Connection</button>
      </div>

      <div id="connectionView" style="display: none; width: 100%; text-align: center;">
        <button class="thinking-button" id="thinkingButton">
          <span id="buttonEmoji">ğŸ’›</span>
        </button>
        <p class="thinking-hint">Tap to let <span id="selectedName">them</span> know</p>
      </div>
    </section>

    <section class="screen" id="connectionsScreen">
      <div class="nav-tabs">
        <button class="nav-tab active" data-tab="list">My Connections</button>
        <button class="nav-tab" data-tab="add">Add New</button>
      </div>

      <div id="connectionsTab" class="connections-list">
        <div id="connectionsList"></div>
      </div>

      <div id="addTab" style="display: none; width: 100%;">
        <div class="onboarding">
          <h3>Create a connection</h3>
          <p>Share this code with someone you want to stay connected with:</p>

          <div class="pairing-code" id="pairingCode">---</div>
          <p class="pairing-timer" id="pairingTimer">Expires in 10:00</p>

          <button class="btn btn-secondary" id="copyCodeBtn">Copy Code</button>

          <div class="divider"><span>or</span></div>

          <h3>Join someone else</h3>
          <p>Enter their code to connect:</p>

          <div class="input-group">
            <input type="text" id="joinCodeInput" placeholder="gentle-sun-42" style="text-align: center;">
          </div>

          <button class="btn btn-primary" id="joinCodeBtn">Connect</button>
        </div>
      </div>
    </section>
  </main>

  <nav style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: white; padding: 0.75rem 1rem; padding-bottom: max(0.75rem, env(safe-area-inset-bottom)); box-shadow: 0 -2px 10px rgba(0,0,0,0.05);" id="bottomNav">
    <div style="display: flex; justify-content: center; gap: 3rem; max-width: 400px; margin: 0 auto;">
      <button class="nav-btn active" data-screen="home" style="background: none; border: none; padding: 0.5rem; cursor: pointer;">
        <span style="font-size: 1.5rem;">ğŸ’›</span>
        <span style="display: block; font-size: 0.75rem; color: var(--light-gray); margin-top: 0.25rem;">Send</span>
      </button>
      <button class="nav-btn" data-screen="connections" style="background: none; border: none; padding: 0.5rem; cursor: pointer;">
        <span style="font-size: 1.5rem;">ğŸ‘¥</span>
        <span style="display: block; font-size: 0.75rem; color: var(--light-gray); margin-top: 0.25rem;">Connections</span>
      </button>
    </div>
  </nav>

  <div class="toast" id="toast">
    <div class="toast-content">
      <div class="toast-emoji" id="toastEmoji">ğŸ’›</div>
      <div class="toast-text">
        <div class="toast-from" id="toastFrom">Someone</div>
        <div class="toast-message" id="toastMessage">is thinking of you</div>
      </div>
    </div>
  </div>

  <div class="modal-overlay" id="customizeModal">
    <div class="modal">
      <div class="modal-header">
        <h3>Customize Connection</h3>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>

      <label style="display: block; margin-bottom: 0.5rem; color: var(--light-gray); font-size: 0.875rem;">Choose an emoji</label>
      <div class="emoji-picker" id="emojiPicker">
        <button class="emoji-option selected" data-emoji="ğŸ’›">ğŸ’›</button>
        <button class="emoji-option" data-emoji="ğŸ’œ">ğŸ’œ</button>
        <button class="emoji-option" data-emoji="ğŸ’™">ğŸ’™</button>
        <button class="emoji-option" data-emoji="ğŸ’š">ğŸ’š</button>
        <button class="emoji-option" data-emoji="ğŸ§¡">ğŸ§¡</button>
        <button class="emoji-option" data-emoji="â¤ï¸">â¤ï¸</button>
        <button class="emoji-option" data-emoji="ğŸŒŸ">ğŸŒŸ</button>
        <button class="emoji-option" data-emoji="ğŸŒ™">ğŸŒ™</button>
        <button class="emoji-option" data-emoji="â˜€ï¸">â˜€ï¸</button>
        <button class="emoji-option" data-emoji="ğŸ¦‹">ğŸ¦‹</button>
        <button class="emoji-option" data-emoji="ğŸŒ¸">ğŸŒ¸</button>
        <button class="emoji-option" data-emoji="ğŸ•Šï¸">ğŸ•Šï¸</button>
      </div>

      <div class="input-group">
        <label for="customMessage">Custom message</label>
        <input type="text" id="customMessage" placeholder="is thinking of you" maxlength="50">
      </div>

      <button class="btn btn-primary" id="saveCustomization" style="width: 100%;">Save</button>
    </div>
  </div>

  <div class="install-prompt" id="installPrompt">
    <div class="install-prompt-content">
      <p>Add to your home screen for the best experience</p>
      <button class="btn btn-primary btn-small" id="installBtn">Install</button>
      <button class="btn btn-secondary btn-small" id="dismissInstall">Later</button>
    </div>
  </div>

  <script src="/app.js"></script>
</body>
</html>
